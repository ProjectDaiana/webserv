http {
    # Global settings
    client_max_body_size 1048576;  # 1MB max request body
    
    # Server 1: Main website
    server {
        listen 8080;
        listen 127.0.0.1:8081;
        server_name localhost;
        
        root /var/www/html;
        index index.html index.htm;
        
        # Default error pages
        error_page 404 /errors/404.html;
        error_page 500 502 503 504 /errors/50x.html;
        error_page 403 /errors/403.html;
        
        # Root location - basic serving
        location / {
            allowed_methods GET POST;
            autoindex off;
        }
        
        # Static files with directory listing
        location /static {
            root /var/www;
            allowed_methods GET;
            autoindex on;
        }
        
        # Upload functionality
        location /upload {
            allowed_methods GET POST;
            upload_enable on;
            upload_store /var/www/uploads;
        }
        
        # Python CGI scripts
        location /cgi-bin {
            root /var/www;
            allowed_methods GET POST;
            cgi_pass .py;
            index index.py;
        }
        
        # Redirect example
        location /redirect {
            return 301 /new-location;
        }
    }
    
    # Server 2: Different port/interface
    server {
        listen 8082;
        server_name api.local;
        
        root /var/www/api;
        index index.html;
        
        error_page 404 /404.json;
        error_page 500 /500.json;
        
        location / {
            allowed_methods GET POST PUT DELETE;
            autoindex off;
        }
    }
}